const projects = [
  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,<br> when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.<br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.<br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry. <br>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",

    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live1",
    sourceLink: "https://example.com/source1",
  },

  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,</br> when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",
    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live2",
    sourceLink: "https://example.com/source2",
  },

  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,</br> when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",
    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live2",
    sourceLink: "https://example.com/source2",
  },

  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</br>, when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",
    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live2",
    sourceLink: "https://example.com/source2",
  },

  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,</br> when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",
    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live2",
    sourceLink: "https://example.com/source2",
  },

  {
    name: "Keeping track of hundreds of components",
    description:
      "Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it 1960s with the releaLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,</br> when an unknown printer took a galley of type and scrambled it 1960s with the relea </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </br> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</br> Lorem Ipsum has been the industry's standard dummy text ever since the 1500s",
    image: {
      mobile: "./images/Snapshoot Portfolio (1).png",
      desktop: "./images/Container/Snapshoot Portfolio.png",
    },
    technologies: ["Ruby on Rails", "CSS", "JavaScript", "HTML"],
    liveLink: "https://example.com/live2",
    sourceLink: "https://example.com/source2",
  },
];

const projectsContainer = document.querySelector(".projects-container");

projects.forEach((project) => {
  const projectElement = document.createElement("div");
  projectElement.classList.add("project-box");

  const imageElement = document.createElement("div");
  imageElement.classList.add("project-img");
  projectElement.appendChild(imageElement);

  const contentElement = document.createElement("div");
  contentElement.classList.add("project-content");
  projectElement.appendChild(contentElement);

  const titleElement = document.createElement("h3");
  titleElement.classList.add("project-title");
  titleElement.innerHTML = "Most-Post Storie's <br/> Gain+Glory";
  contentElement.appendChild(titleElement);

  const langListElement = document.createElement("ul");
  langListElement.classList.add("project-lang-used");
  contentElement.appendChild(langListElement);

  project.technologies.forEach((technology) => {
    const langItemElement = document.createElement("li");
    langItemElement.classList.add("lang");
    langItemElement.textContent = technology;
    langListElement.appendChild(langItemElement);
  });

  // MODAL
  const displayPopup = (project) => {
    const dynamicSection = document.getElementById("dynamic-section");
    // const list = '';
    project.technologies.map((technology) => `<li>${technology}</li>`);

    const sectioHTML = `
<section id='model-section' class='model-section'>
    <div class='model'>
      <div class='model-content'>
        <div class='model-header'>
          <button class='model-close' type='button'>X</button>
          <img
          class="mobile-img"
          src="${project.image.mobile}"
          alt="Model-image"
        />
        <img
          class="desktop-img"
          src="${project.image.desktop}"
          alt=""
        />
        </div>
        <div class='model-body'>
          <h2>${project.name}</h2>
          <div class='desktop-list'>
            <ul id='desktop-componets'>
            ${project.technologies.map((ele) => `<li>${ele}</>`).join("")} 
            </ul>
          </div>
          <div class='mobile-list'>
            <ul id='mobile-componets'>
            ${project.technologies.map((ele) => `<li>${ele}</>`).join("")}
            </ul>
          </div>
          
          <p>
            Lorem Ipsum is simply dummy text of the printing and typesetting
            industry. Lorem Ipsum has been the industry's standard dummy text
            ever since the 1500s, when an unknown printer took a galley of
            type and scrambled it 1960s. </p>
            
            <P> Lorem Ipsum is simply dummy text of the printing and typesetting
            industry. Lorem Ipsum has been the industry's standard dummy
            text ever since the 1500s, when an unknown printer took a galley
            of type and scrambled it 1960s.
          </p>
          </div>
        <div class='model-footer desktop-flex'>
          <button class='btn-live' id='live-button'>
            See live
            <span
              ><i
                class='fa-thin fa-arrow-up-left-from-circle fa-rotate-90'
              ></i
            ></span>
          </button>
          <button class='btn-source' id='source-button'>
            See source <span><i class='fa-brands fa-github'></i></span>
          </button>
          </div>
        
      </div>
    </div>
    <div id='overlay'></div>
  </section>
  `;
    dynamicSection.innerHTML = sectioHTML;

    const modelSection = document.querySelector(".model");
    const modelCloseButton = document.querySelector(".model-close");
    const overlay = document.getElementById("overlay");

    modelCloseButton.addEventListener("click", () => {
      modelSection.style.display = "none";
      overlay.style.display = "none";
    });
  };

  //  "See Project" button
  const buttonElement = document.createElement("button");
  buttonElement.classList.add("btn", "project-btn");
  buttonElement.textContent = "See Project";
  contentElement.appendChild(buttonElement);

  //  projects container
  projectsContainer.appendChild(projectElement);
  buttonElement.addEventListener("click", () => {
    displayPopup(project);

    const modelSection = document.querySelector(".model");
    const overlay = document.getElementById("overlay");
    modelSection.style.display = "block";
    overlay.style.display = "block";
  });
});

const toggleButtonAndMenu = () => {
  const menuBtn = document.querySelector(".burger-btn");
  const list = document.querySelector(".nav-list");
  menuBtn.classList.toggle("open");
  list.classList.toggle("open");
};

const initApp = () => {
  const menuBtn = document.querySelector(".burger-btn");
  const list = document.querySelector(".nav-list");
  menuBtn.addEventListener("click", toggleButtonAndMenu);
  list.addEventListener("click", toggleButtonAndMenu);
};

document.addEventListener("DOMContentLoaded", () => {
  initApp();
});

// form validation
const form = document.querySelector(".form");
const email = document.querySelector(".email");
const emailError = document.querySelector(".error");
const textMsg = "Please write the email in lowercase";

form.addEventListener("submit", (e) => {
  if (email.value !== email.value.toLowerCase()) {
    emailError.textContent = textMsg;
    e.preventDefault();
  } else {
    emailError.style.display = "none";
    email.style.border = "1px solid green";
  }
});
